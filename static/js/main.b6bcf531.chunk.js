(this.webpackJsonpinstagram_clone=this.webpackJsonpinstagram_clone||[]).push([[0],{45:function(e,a,t){e.exports=t(70)},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},67:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(12),o=t.n(r),l=(t(50),t(13)),s=t(93),i=t(94),u=(t(51),t(52),t(97));var m=function(e){var a=e.username,t=e.imgUrl,n=e.caption;return c.a.createElement("div",{className:"post"},c.a.createElement("div",{className:"post_header"},c.a.createElement(u.a,{className:"post_avatar",alt:a,src:"/static/images/avatar/1.jpg"}),c.a.createElement("h3",null,a)),c.a.createElement("img",{className:"post_image",src:t}),c.a.createElement("h4",{className:"post_text"},c.a.createElement("strong",null,a,":")," ",n))},p=t(22),g=t.n(p),d=g.a.initializeApp({apiKey:"AIzaSyAJWjmW6wAeVdWmshGhAS847ywfqIjN27g",authDomain:"notify-d67f5.firebaseapp.com",databaseURL:"https://notify-d67f5.firebaseio.com",projectId:"notify-d67f5",storageBucket:"notify-d67f5.appspot.com",messagingSenderId:"447304067357",appId:"1:447304067357:web:e19ed9d241ce335d6e59f4"}).firestore(),f=g.a.auth(),h=g.a.storage(),E=t(96),v=t(95);t(67);var b=function(e){var a=e.username,t=Object(n.useState)(""),r=Object(l.a)(t,2),o=r[0],s=r[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],p=u[1],f=Object(n.useState)(0),E=Object(l.a)(f,2),b=E[0],w=E[1];return c.a.createElement("div",{className:"imageupload"},c.a.createElement("progress",{className:"imageupload_progress",value:b,max:"100"}),c.a.createElement("input",{type:"text",placeholder:"Enter a caption",onChange:function(e){return s(e.target.value)},value:o}),c.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&p(e.target.files[0])}}),c.a.createElement(v.a,{onClick:function(){h.ref("images/".concat(m.name)).put(m).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);w(a)}),(function(e){console.log(e),alert(e.message)}),(function(){h.ref("images").child(m.name).getDownloadURL().then((function(e){d.collection("posts").add({timestamp:g.a.firestore.FieldValue.serverTimestamp(),caption:o,imgUrl:e,username:a}),w(0),s(""),p(null)}))}))}},"Upload"))},w=t(40);function _(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var j=Object(s.a)((function(e){return{paper:{position:"absolute",width:"50vw",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var y=function(){var e=j(),a=c.a.useState(_),t=Object(l.a)(a,1)[0],r=Object(n.useState)([]),o=Object(l.a)(r,2),s=o[0],u=o[1],p=Object(n.useState)(!1),g=Object(l.a)(p,2),h=g[0],y=g[1],N=Object(n.useState)(""),O=Object(l.a)(N,2),S=O[0],C=O[1],k=Object(n.useState)(""),I=Object(l.a)(k,2),A=I[0],x=I[1],U=Object(n.useState)(""),W=Object(l.a)(U,2),B=W[0],L=W[1],D=Object(n.useState)(null),J=Object(l.a)(D,2),P=J[0],R=J[1],T=Object(n.useState)(!1),z=Object(l.a)(T,2),F=z[0],M=z[1];return Object(n.useEffect)((function(){var e=f.onAuthStateChanged((function(e){e?(console.log(e),R(e)):R(e)}));return function(){e()}}),[P,S]),Object(n.useEffect)((function(){d.collection("posts").onSnapshot((function(e){u(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),c.a.createElement("div",{className:"app"},c.a.createElement(i.a,{open:h,onClose:function(){return y(!1)}},c.a.createElement("div",{style:t,className:e.paper},c.a.createElement("form",{className:"app_signup"},c.a.createElement("center",null,c.a.createElement("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"app_headerImage"})),c.a.createElement(E.a,{type:"text",placeholder:"username",value:S,onChange:function(e){return C(e.target.value)}}),c.a.createElement(E.a,{type:"email",placeholder:"email",value:B,onChange:function(e){return L(e.target.value)}}),c.a.createElement(E.a,{type:"password",placeholder:"password",value:A,onChange:function(e){return x(e.target.value)}}),c.a.createElement(v.a,{onClick:function(e){e.preventDefault(),f.createUserWithEmailAndPassword(B,A).then((function(e){return e.user.updateProfile({displayName:S})})).catch((function(e){return alert(e.message)})),y(!1)}},"Signup")))),c.a.createElement(i.a,{open:F,onClose:function(){return M(!1)}},c.a.createElement("div",{style:t,className:e.paper},c.a.createElement("form",{className:"app_signup"},c.a.createElement("center",null,c.a.createElement("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"app_headerImage"})),c.a.createElement(E.a,{type:"email",placeholder:"email",value:B,onChange:function(e){return L(e.target.value)}}),c.a.createElement(E.a,{type:"password",placeholder:"password",value:A,onChange:function(e){return x(e.target.value)}}),c.a.createElement(v.a,{onClick:function(e){e.preventDefault(),f.signInWithEmailAndPassword(B,A).catch((function(e){return alert(e.message)})),M(!1)}},"Login")))),c.a.createElement("div",{className:"app_header"},c.a.createElement("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"app_headerImage"}),P?c.a.createElement(v.a,{onClick:function(){return f.signOut()}},"Logout"):c.a.createElement("div",{className:"login_container"},c.a.createElement(v.a,{onClick:function(){return M(!0)}},"Sign In"),c.a.createElement(v.a,{onClick:function(){return y(!0)}},"Sign up"))),(null===P||void 0===P?void 0:P.displayName)?"Connected as ".concat(P.displayName):null,c.a.createElement("div",{className:"app_posts"},c.a.createElement("div",{className:"apppost_left"},s.map((function(e){var a=e.id,t=e.post;return c.a.createElement(m,{key:a,username:t.username,imgUrl:t.imgUrl,caption:t.caption})}))),c.a.createElement("div",{className:"apppost_right"},"Wesite created By:",c.a.createElement(w.a,{url:"https://www.instagram.com/p/B4H3-i3nQY5/?utm_source=ig_web_copy_link",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}}))),(null===P||void 0===P?void 0:P.displayName)?c.a.createElement(b,null):null)};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.b6bcf531.chunk.js.map