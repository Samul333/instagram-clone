(this.webpackJsonpinstagram_clone=this.webpackJsonpinstagram_clone||[]).push([[0],{45:function(e,t,a){e.exports=a(70)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},67:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(13),l=a.n(o),r=(a(50),a(8)),s=a(93),i=a(94),m=(a(51),a(52),a(97)),u=a(18),p=a.n(u),d=p.a.initializeApp({apiKey:"AIzaSyAJWjmW6wAeVdWmshGhAS847ywfqIjN27g",authDomain:"notify-d67f5.firebaseapp.com",databaseURL:"https://notify-d67f5.firebaseio.com",projectId:"notify-d67f5",storageBucket:"notify-d67f5.appspot.com",messagingSenderId:"447304067357",appId:"1:447304067357:web:e19ed9d241ce335d6e59f4"}).firestore(),f=p.a.auth(),g=p.a.storage();var E=function(e){var t=e.username,a=e.imgUrl,o=e.caption,l=e.postId,s=e.user,i=Object(n.useState)([]),u=Object(r.a)(i,2),f=u[0],g=u[1],E=Object(n.useState)(""),h=Object(r.a)(E,2),v=h[0],b=h[1];return Object(n.useEffect)((function(){var e;return l&&(e=d.collection("posts").doc(l).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[]),c.a.createElement("div",{className:"post"},c.a.createElement("div",{className:"post_header"},c.a.createElement(m.a,{className:"post_avatar",alt:t,src:"/static/images/avatar/1.jpg"}),c.a.createElement("h3",null,t)),c.a.createElement("img",{className:"post_image",src:a}),c.a.createElement("h4",{className:"post_text"},c.a.createElement("strong",null,t,":")," ",o),c.a.createElement("div",{className:"post_comments"},f.map((function(e){return c.a.createElement("p",null,c.a.createElement("b",null,e.username,": "),e.text)}))),(null===s||void 0===s?void 0:s.displayName)?c.a.createElement("form",{className:"post_commentbox"},c.a.createElement("input",{className:"post_input",type:"text",placeholder:"Add a comment..",value:v,onChange:function(e){return b(e.target.value)}}),c.a.createElement("button",{disabled:!v,type:"submit",onClick:function(e){e.preventDefault(),d.collection("posts").doc(l).collection("comments").add({text:v,username:s.displayName,timestamp:p.a.firestore.FieldValue.serverTimestamp()}),b("")},className:"post_button"},"Post ")):console.log("false"))},h=a(96),v=a(95);a(67);var b=function(e){var t=e.username,a=Object(n.useState)(""),o=Object(r.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)(null),m=Object(r.a)(i,2),u=m[0],f=m[1],E=Object(n.useState)(0),h=Object(r.a)(E,2),b=h[0],y=h[1];return c.a.createElement("div",{className:"imageupload"},c.a.createElement("progress",{className:"imageupload_progress",value:b,max:"100"}),c.a.createElement("input",{type:"text",placeholder:"Enter a caption",onChange:function(e){return s(e.target.value)},value:l}),c.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&f(e.target.files[0])}}),c.a.createElement(v.a,{onClick:function(){g.ref("images/".concat(u.name)).put(u).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);y(t)}),(function(e){console.log(e),alert(e.message)}),(function(){g.ref("images").child(u.name).getDownloadURL().then((function(e){d.collection("posts").add({timestamp:p.a.firestore.FieldValue.serverTimestamp(),caption:l,imgUrl:e,username:t.displayName}),y(0),s(""),f(null)}))}))}},"Upload"))},y=a(40);function j(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var _=Object(s.a)((function(e){return{paper:{position:"absolute",width:"50vw",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var N=function(){var e=_(),t=c.a.useState(j),a=Object(r.a)(t,1)[0],o=Object(n.useState)([]),l=Object(r.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(r.a)(u,2),g=p[0],N=p[1],w=Object(n.useState)(""),O=Object(r.a)(w,2),S=O[0],C=O[1],I=Object(n.useState)(""),k=Object(r.a)(I,2),x=k[0],A=k[1],U=Object(n.useState)(""),F=Object(r.a)(U,2),W=F[0],B=F[1],D=Object(n.useState)(null),L=Object(r.a)(D,2),P=L[0],R=L[1],T=Object(n.useState)(!1),J=Object(r.a)(T,2),V=J[0],z=J[1],M=Object(n.useState)(!1),q=Object(r.a)(M,2),G=q[0],H=q[1];return Object(n.useEffect)((function(){var e=f.onAuthStateChanged((function(e){R(e)}));return function(){e()}}),[P,S]),Object(n.useEffect)((function(){d.collection("posts").onSnapshot((function(e){m(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),c.a.createElement("div",{className:"app"},c.a.createElement(i.a,{open:g,onClose:function(){return N(!1)}},c.a.createElement("div",{style:a,className:e.paper},c.a.createElement("form",{className:"app_signup"},c.a.createElement("center",null,c.a.createElement("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"app_headerImage"})),c.a.createElement(h.a,{type:"text",placeholder:"username",value:S,onChange:function(e){return C(e.target.value)}}),c.a.createElement(h.a,{type:"email",placeholder:"email",value:W,onChange:function(e){return B(e.target.value)}}),c.a.createElement(h.a,{type:"password",placeholder:"password",value:x,onChange:function(e){return A(e.target.value)}}),c.a.createElement(v.a,{onClick:function(e){e.preventDefault(),f.createUserWithEmailAndPassword(W,x).then((function(e){return e.user.updateProfile({displayName:S})})).catch((function(e){return alert(e.message)})),N(!1)}},"Signup")))),c.a.createElement(i.a,{open:V,onClose:function(){return z(!1)}},c.a.createElement("div",{style:a,className:e.paper},c.a.createElement("form",{className:"app_signup"},c.a.createElement("center",null,c.a.createElement("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"app_headerImage"})),c.a.createElement(h.a,{type:"email",placeholder:"email",value:W,onChange:function(e){return B(e.target.value)}}),c.a.createElement(h.a,{type:"password",placeholder:"password",value:x,onChange:function(e){return A(e.target.value)}}),c.a.createElement(v.a,{onClick:function(e){e.preventDefault(),f.signInWithEmailAndPassword(W,x).catch((function(e){return alert(e.message)})),z(!1)}},"Login")))),c.a.createElement(i.a,{open:G,onClose:function(){return H(!1)}},c.a.createElement("div",{style:a,className:e.paper},c.a.createElement("h3",null,"Project Information"),c.a.createElement("h5",null,"* Replication of the Instagram UI"),c.a.createElement("h5",null,"* Fully Functionally Login,Register and Authentication System"),c.a.createElement("h5",null,"* Fully funtional upload Image feature."),c.a.createElement("h5",null,"* Restricted access to non-authenticated users"),c.a.createElement("h5",null,"* Fully functional comments section"),c.a.createElement("h5",null,"* Developed by-: Samul Shrestha"))),c.a.createElement("div",{className:"app_header"},c.a.createElement("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo",className:"app_headerImage"}),c.a.createElement(v.a,{onClick:function(){return H(!0)}},"Project Information"),P?c.a.createElement(v.a,{onClick:function(){return f.signOut()}},"Logout"):c.a.createElement("div",{className:"login_container"},c.a.createElement(v.a,{onClick:function(){return z(!0)}},"Sign In"),c.a.createElement(v.a,{onClick:function(){return N(!0)}},"Sign up"))),(null===P||void 0===P?void 0:P.displayName)?"Connected as ".concat(P.displayName):null,c.a.createElement("div",{className:"app_posts"},c.a.createElement("div",{className:"apppost_left"},s.map((function(e){var t=e.id,a=e.post;return c.a.createElement(E,{key:t,postId:t,username:a.username,imgUrl:a.imgUrl,caption:a.caption,user:P})}))),c.a.createElement("div",{className:"apppost_right"},"Wesite created By:",c.a.createElement(y.a,{url:"https://www.instagram.com/p/B4H3-i3nQY5/?utm_source=ig_web_copy_link",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}}))),(null===P||void 0===P?void 0:P.displayName)?c.a.createElement(b,{username:P}):null)};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f28b4fe0.chunk.js.map